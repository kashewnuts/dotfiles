# カバレッジ判定基準

テストシナリオと実装のカバレッジを判定するための基準。

## ステータス定義

### ✅ 対応済み (Covered)

以下の条件をすべて満たす:
- 実装コードが存在する
- 対応するユニットテストが存在する
- テストが該当シナリオをカバーしている

**判定例**:
- シナリオ: 「ログイン成功時にダッシュボードへリダイレクト」
- 実装: `LoginView.post()` でリダイレクト処理あり
- テスト: `test_login_success_redirect()` でリダイレクト先を検証
- → ✅ 対応済み

### ⚠️ 部分対応 (Partially Covered)

以下のいずれかに該当:
- 実装はあるがテストが不十分
- 暗黙的にカバーされている（別のテストで間接的に検証）
- エッジケースがカバーされていない

**判定例**:
- シナリオ: 「無効なパスワードでエラーメッセージ表示」
- 実装: エラーハンドリングあり
- テスト: 認証失敗のテストはあるがメッセージ内容は未検証
- → ⚠️ 部分対応

### ❌ 未対応 (Not Covered)

以下のいずれかに該当:
- 実装が存在しない
- テストが存在しない
- 実装とシナリオが一致しない

**判定例**:
- シナリオ: 「パスワードリセットメール送信」
- 実装: 該当機能なし
- → ❌ 未対応

### ➖ 対象外 (Out of Scope)

以下のいずれかに該当:
- 今回の PR/変更のスコープ外
- 別 PR で対応予定
- 将来の機能として計画済み

## 判定フロー

```
シナリオ項目
    │
    ▼
関連する実装コードがあるか？
    │
    ├─ No → ❌ 未対応
    │
    ▼ Yes
対応するテストがあるか？
    │
    ├─ No → ❌ 未対応
    │
    ▼ Yes
テストがシナリオを十分にカバーしているか？
    │
    ├─ No → ⚠️ 部分対応
    │
    ▼ Yes
    ✅ 対応済み
```

## テスト種別の考慮

| テスト種別 | カバレッジへの寄与 |
|-----------|------------------|
| ユニットテスト | 高（直接的なカバレッジ） |
| 統合テスト | 高（E2E 的なカバレッジ） |
| 手動テスト項目 | 中（自動化されていないが計画済み） |
| 暗黙的カバレッジ | 低（間接的、要注意） |

## 優先度の考慮

カバレッジ不足の項目に優先度を付ける際の基準:

| 優先度 | 条件 |
|--------|------|
| 高 | セキュリティ関連、コア機能 |
| 中 | ユーザー影響のある機能 |
| 低 | エッジケース、管理機能 |
